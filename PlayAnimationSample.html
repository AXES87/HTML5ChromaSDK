<html>
<head>
<script src="jquery-3.3.1.min.js"></script>
<script src="ChromaSDKImpl.js"></script>
<script>
var chromaSDK = undefined;
function onPageLoad() {
  chromaSDK = new ChromaSDK();
  var oReq = new XMLHttpRequest();
  oReq.timeout = 2000; // time in milliseconds
  oReq.addEventListener("load", function() {
    console.log('ChromaSDK Version:', this.responseText);
    var jsonVersion = JSON.parse(this.responseText);
    if (jsonVersion != undefined &&
      jsonVersion.version != undefined) {
      var parts = jsonVersion.version.split(".");
      if (parts.length >= 3 &&
        ((parts[0] > 2) ||
        (parts[0] == 2 && parts[1] > 14) ||
        (parts[0] == 2 && parts[1] == 14 && parts[2] >= 0))) {
          chromaSDK.init();
        } else {
          $("#divUpdateChromaSDK").show();
        }
    }
  });
  oReq.ontimeout = function() {
    console.log('ontimeout');
  };
  oReq.onerror = function() {
    console.log('onerror');
  };
  oReq.addEventListener(
    "readystatechange",
    function() {
      console.log('readystatechange', this.status);
      if (this.readyState == 4) {
        if (this.status == 200) {
        }
      }
    }
    ,
    false
  );
  oReq.open("GET", "https://chromasdk.io:54236/razer/chromasdk");
  oReq.send();
}
function onPageUnload() {
  if (chromaSDK != undefined) {
    chromaSDK.uninit()
  }
}
</script>
</head>

<body onload="onPageLoad()" onunload="onPageUnload()">

<div id="divUpdateChromaSDK" style="display: none">Please update your ChromaSDK version (an old version was detected)!</div>

<h1>Control:</h1>

<button onclick="if (chromaSDK != undefined) { chromaSDK.init(); }">Init</button>
<button onclick="if (chromaSDK != undefined) { chromaSDK.uninit(); }">Uninit</button><br>

<h1>Composites:</h1>

<select id="SelAnimation">
  <option value="Random" selected>Random</option>
  <option value="RazerGreen">RazerGreen</option>
  <option value="Wave">Wave</option>
</select><br/>

<button onclick="ChromaAnimation.playComposite(document.getElementById('SelAnimation').value, false);">Play Composite</button>
<button onclick="ChromaAnimation.playComposite(document.getElementById('SelAnimation').value, true);">Loop</button>
<button onclick="ChromaAnimation.stopComposite(document.getElementById('SelAnimation').value);">Stop</button>
<button onclick="ChromaAnimation.playComposite('Blank', false);">Blank</button><br>

<h1>Animations:</h1>

<button onclick="ChromaAnimation.playAnimation(document.getElementById('SelAnimation').value + '_ChromaLink.chroma', false);">Play ChromaLink Animation</button>
<button onclick="ChromaAnimation.playAnimation(document.getElementById('SelAnimation').value + '_ChromaLink.chroma', true);">Loop</button>
<button onclick="ChromaAnimation.stopAnimation(document.getElementById('SelAnimation').value + '_ChromaLink.chroma');">Stop</button><br>

<button onclick="ChromaAnimation.playAnimation(document.getElementById('SelAnimation').value + '_Headset.chroma', false);">Play Headset Animation</button>
<button onclick="ChromaAnimation.playAnimation(document.getElementById('SelAnimation').value + '_Headset.chroma', true);">Loop</button>
<button onclick="ChromaAnimation.stopAnimation(document.getElementById('SelAnimation').value + '_Headset.chroma');">Stop</button><br>

<button onclick="ChromaAnimation.playAnimation(document.getElementById('SelAnimation').value + '_Keyboard.chroma', false);">Play Keyboard Animation</button>
<button onclick="ChromaAnimation.playAnimation(document.getElementById('SelAnimation').value + '_Keyboard.chroma', true);">Loop</button>
<button onclick="ChromaAnimation.stopAnimation(document.getElementById('SelAnimation').value + '_Keyboard.chroma');">Stop</button>
<button onclick="ChromaAnimation.playAnimation(document.getElementById('SelAnimation').value + '_Keyboard.chroma', true, true);">CustomKey</button><br>

<button onclick="ChromaAnimation.playAnimation(document.getElementById('SelAnimation').value + '_Keypad.chroma', false);">Play Keypad Animation</button>
<button onclick="ChromaAnimation.playAnimation(document.getElementById('SelAnimation').value + '_Keypad.chroma', true);">Loop</button>
<button onclick="ChromaAnimation.stopAnimation(document.getElementById('SelAnimation').value + '_Keypad.chroma');">Stop</button><br>

<button onclick="ChromaAnimation.playAnimation(document.getElementById('SelAnimation').value + '_Mouse.chroma', false);">Play Mouse Animation</button>
<button onclick="ChromaAnimation.playAnimation(document.getElementById('SelAnimation').value + '_Mouse.chroma', true);">Loop</button>
<button onclick="ChromaAnimation.stopAnimation(document.getElementById('SelAnimation').value + '_Mouse.chroma');">Stop</button><br>

<button onclick="ChromaAnimation.playAnimation(document.getElementById('SelAnimation').value + '_Mousepad.chroma', false);">Play Mousepad Animation</button>
<button onclick="ChromaAnimation.playAnimation(document.getElementById('SelAnimation').value + '_Mousepad.chroma', true);">Loop</button>
<button onclick="ChromaAnimation.stopAnimation(document.getElementById('SelAnimation').value + '_Mousepad.chroma');">Stop</button><br>

<h1>Static Color:</h1>

<button onclick="ChromaAnimation.staticColor(EChromaSDKDeviceEnum.DE_ChromaLink, 0xFF);">ChromaLink Static Color</button><br>
<button onclick="ChromaAnimation.staticColor(EChromaSDKDeviceEnum.DE_Headset, 0xFF00);">Headset Static Color</button><br>
<button onclick="ChromaAnimation.staticColor(EChromaSDKDeviceEnum.DE_Keyboard, 0xFF0000);">Keyboard Static Color</button><br>
<button onclick="ChromaAnimation.staticColor(EChromaSDKDeviceEnum.DE_Keypad, 0xFF00FF);">Keypad Static Color</button><br>
<button onclick="ChromaAnimation.staticColor(EChromaSDKDeviceEnum.DE_Mouse, 0xFFFF00);">Mouse Static Color</button><br>
<button onclick="ChromaAnimation.staticColor(EChromaSDKDeviceEnum.DE_Mousepad, 0x00FFFF);">Mousepad Static Color</button><br>

<h1>Clear:</h1>

<button onclick="ChromaAnimation.clear(EChromaSDKDeviceEnum.DE_ChromaLink);">ChromaLink Clear</button><br>
<button onclick="ChromaAnimation.clear(EChromaSDKDeviceEnum.DE_Headset);">Headset Clear</button><br>
<button onclick="ChromaAnimation.clear(EChromaSDKDeviceEnum.DE_Keyboard);">Keyboard Clear</button><br>
<button onclick="ChromaAnimation.clear(EChromaSDKDeviceEnum.DE_Keypad);">Keypad Clear</button><br>
<button onclick="ChromaAnimation.clear(EChromaSDKDeviceEnum.DE_Mouse);">Mouse Clear</button><br>
<button onclick="ChromaAnimation.clear(EChromaSDKDeviceEnum.DE_Mousepad);">Mousepad Clear</button><br>

</body>
</html>
